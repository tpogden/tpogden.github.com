<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2020-12-31">

<title>Thomas Ogden - Book Notes, 2020</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Thomas Ogden</span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header">
<h1 class="title display-7">Book Notes, 2020</h1>

<p class="date">2020-12-31</p>
</header>

<ol type="1">
<li><p><a href="https://uk.bookshop.org/a/5340/9781618953292"><em>The Big Sleep</em></a> by Raymond Chandler ★ — The first Philip Marlowe book. I have to write ‘hardboiled’ here.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781529104639"><em>I, Robot</em></a> by Peter Crouch — Bought for the title.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781509841141"><em>Stories of the Law and How It’s Broken</em></a> by The Secret Barrister — In 2018 I spent two weeks as a juror on a trial. Welcoming us, the judge said something to the effect of ‘this system isn’t perfect but it’s the best we’ve found.’ The anonymous author here describes the many ways the neglected and underfunded criminal justice system in England is far from perfect.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781982120504"><em>Green River, Running Red</em></a> by Ann Rule — True crime story of the Green River Killer in Seattle in the 80s and 90s.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781785039126"><em>Life Undercover</em></a> by Amaryllis Fox — A memoir of a fairly exceptional early life and years as a CIA operative.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9788194605836"><em>A Tale of Two Cities</em></a> by Charles Dickens — Think about what it would have been like to read the tale the way it was first published in weekly installments, like an HBO series pulling its story arcs together for an epic finale. Dickens pulling subscribers into his new publishing startup. The least Dickensian of his novels for its shift of weight from character to plot.</p>
<p>‘Recalled to life.’ For a book with among the most famous first and last lines of any written, the note handed to the banker on the Dover mail coach tells us most of what it’s about. Hope and resurrection form a thin line between humanity and terror. &nbsp;</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781610396950"><em>The Snow Leopard Project</em></a> by Alex Dehgan — A report from the ground on wildlife conservation in the warzones of Afghanistan.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780199580989"><em>Russian History</em></a> by Geoffrey Hosking — It’s interesting to consider how much the political history of Russia is affected by its geography: a uniquely vast place much of which has hostile climate, diverse in people. This is a short introduction.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781847394576"><em>A Line in the Sand</em></a> by James Barr — A stroke of pen on a map with long-lasting effect, in 1916 Sykes and Picot partitioned the territories of the Ottoman Empire in the Middle East between the empires of Britain and France. Barr sources declassified archives to tell the inglorious colonialist history through the decades that followed.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781781255896"><em>The Idea of the Brain</em></a> by Matthew Cobb ★ — An enlightening history of our understanding of probably the most complex and inscrutible object we know of. The book combines a chronicle of ideas since Aristotle and a tour of the current state of neuroscience.</p>
<p>I suppose my prior conception of the brain would be a naturally evolved computer that allows organisms to control physical functions, learn and respond to the environment. Cobb makes a clear argument that the computer is just the latest in a line of metaphors based on the technology of the day: mechanical clockwork, hydraulic automaton, telephone exchange and on. The brain <em>computes</em> but it is not much like a digital computer. It is electrochemical and analogue. Localising functions to particular parts of the brain is mostly not possible.</p>
<p>I tend to credit physics for pushing much of 20th century progress in computing. That notion is countered here in the influence of neuroscience from the 40s, with Alan Turing’s test and John von Neumann’s interest in how neural circuits might encode information, to the 80s, with the work of Geoffrey Hinton <em>et al.</em> on backpropagation and the Perceptron.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Thus especially recommended if you are interested in machine learning.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780552167574"><em>Feet of Clay</em></a> by Terry Pratchett ↻ — At 13, my English teacher noticed I wasn’t reading any fiction. Given time to read in school I’d head for a world atlas. At home I read a lot but mostly bible study.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> Mrs Clarke clearly had a good eye for what might catch my interest and wrote ‘Terry Pratchett’ in my schoolbook with homework to find a novel of his in the library and report back on it.</p>
<p>The one I found was <em>Moving Pictures</em> and I’d never read anything like it. I went back to the library for the first Discworld book, then the second. My mum worked in a WH Smith shop and told me there was going to be a new book in the series called <em>Feet of Clay</em>. This was exciting, I had not considered there would be new ones. She ordered it for me and then through <em>Hogfather</em>, <em>Jingo</em>, <em>The Last Continent</em>, <em>Carpe Jugulum</em> and <em>The Fifth Elephant</em> I bought each paperback when it came out.</p>
<blockquote class="blockquote">
<p>And, while it was regarded as pretty good evidence of criminality to be living in a slum, for some reason owning a whole street of them merely got you invited to the very best social occasions.</p>
</blockquote></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780141995151"><em>The Warmth of Other Suns</em></a> by Isabel Wilkerson ★ — A narrative history of the Great Migration of African Americans from the Southern US to Northern and West Coast cities in the twentieth century, pushed by Jim Crow oppression and terror in the South and pulled by demand for factory labour in the North.</p>
<blockquote class="blockquote">
<p>They did what human beings looking for freedom, throughout history, have often done. They left.</p>
</blockquote>
<p>The book stands out both for its broad analysis and for its deeply researched detail on the three life stories that carry it along. Ida Mae Brandon Gladney left Mississippi in the 30s to work blue-collar jobs in Chicago. George Swanson Starling left Florida in the 40s for New York City and worked as a porter travelling up and down that same route. Robert Joseph Pershing Foster left Louisiana for Los Angeles in the 50s to work as a doctor. Ray Charles, a patient, praised him in song.</p>
<p>These destinations were not random but determined by railway tracks. Migrants from Florida and Georgia took the coastal route up to Boston and New York. Those from Alabama and Mississippi followed the river up to the Midwest cities of Detroit and Chicago. Those from Texas and Louisiana took the trains west to Los Angeles and Oakland. Their exodus took them from the enforced poverty, brutality and segregation of their old rural lives but each of course met prejudice and hostility in their new homes.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781784161873"><em>At Home</em></a> by Bill Bryson — Spending all my time at home in lockdown I thought it might be interesting to read this history of domestic life. I didn’t enjoy it as much as his travel books but there are the usual interesting facts and stories.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781784705039"><em>Brit(ish)</em></a> by Afua Hirsch — ’Where are you from?’ Hirsch calls this The Question, asked of her repeatedly with the felt implication that what the questioner wants to know is ‘Where are you <em>really</em> from?’ This gave me pause because it’s a question I often ask people I meet as an opening for them to talk. I would say I don’t care what the answer is, it might be‘right here’ or more than one place<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, but directly asking about identity is not neutral. I’ve been thinking about something else to ask.</p>
<p>The book is good on analysis of the intersection of race, class and poverty in Britain. It’s also good in describing Britain’s post-imperial identity crisis. Part of it is in the attempt to be a post-racial society without actually coming to terms with the racial society we have been and still are. That process is difficult — as the reaction to the sinking of the slaver statue in Bristol has shown — but necessary. I take visitors to Manchester past Lincoln Square and talk about the mill workers who refused to work slave-picked cotton but when I’m walking past the grand Victorian buildings I don’t think about how much textile industry innovation and wealth had been built on that slave labour.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781786892362"><em>My Name is Why</em></a> by Lemn Sissay — the two things I knew about Sissay before reading this are that he wrote the poem I often run past on the side of <a href="https://en.wikipedia.org/wiki/Hardy%27s_Well">Hardy’s Well</a> in Rusholme, and that he is the current chancellor of the University of Manchester. This memoir covers his childhood from when his mother, a young Ethiopian student, was placed in a ‘Home for Unmarried Mothers’ in Wigan. Sissay was taken against her will by social services who took away his name and his story, renaming him Norman. It’s a story of cruel institutions that had a duty to care for him and didn’t.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781250316967"><em>Open Borders</em></a> by Bryan Caplan and Zach Weinersmith — George Mason University economist Caplan teams up with <a href="https://www.smbc-comics.com/index.php">SMBC cartoonist Weinersmith</a> to make the case for rich countries to allow free migration, including untapped trillions in potential wealth as well as clear moral imperative. Caplan takes strong opposing arguments and rebuts them persuasively. But then I live in a city and already see migration as overwhelmingly positive. The arguments focus on economic rather than cultural outcomes, which I think people who are less welcoming of migration tend to be more concerned about. The illustration lightens up what could be dry economic argument and shows how, done as well as this, graphic nonfiction can be a brilliant way to present ideas.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780141990675"><em>The New Jim Crow</em></a> by Michelle Alexander — The robustly argued case that the racial inequity of the criminal justice system in the United States can be thought of as a third era of segregation after slavery and Jim Crow laws.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781541619340"><em>The Sum of the People</em></a> by Andrew Whitby ★ — Counting people might sound like an uncontroversial and mundane statistical<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> task, but this history of the census since the idea’s origins in ancient China is absorbing. The Exodus of the Israelites in the Old Testament got a whole <em>Book of Numbers</em> for census results. The founding fathers of the United States thought a regular census important enough to write it into the Constitution, though infamously counted a black slave as three-fifths of a free white man. Nazi Germany used census data as a tool for genocide. In 1944 a risky daytime Allied air raid on the Kleykamp building in The Hague was sent out to destroy the identity records of the Dutch population with the aim of protecting some of those the Nazis would persecute.</p>
<p>Who is counted and who isn’t? What questions should be asked? Such decisions are contested each time around. The census is a balance of representation in democracy for the individual and valuable information for the state.</p>
<blockquote class="blockquote">
<p>This version of the census — still used in most countries today — was a compromise. It acknowledged an unavoidable trade-off between privacy and the state’s need to see in order to function. The traditional census, at its best, has been able to find a delicate balance between these opposed aims. It has succeeded in this because enumeration, by its very nature, requires mass participation, and so the census is owned neither by the state nor by the people but exists as a continuous negotiation between the two.</p>
</blockquote></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780552167598"><em>Jingo</em></a> by Terry Pratchett ↻ — After the years I spent buried in Discworld books, I went off to university to pick up other interests and affectations like ‘serious’ literature and cardigans. In my 30s I’m returning to my teenage enjoyment of fun books and parkas.</p>
<blockquote class="blockquote">
<p>It was so much easier to blame it on Them. It was bleakly depressing to think that They were Us. If it was Them, then nothing was anyone’s fault. If it was Us, what did that make Me? After all, I’m one of Us. I must be. I’ve certainly never thought of myself as one of Them. <em>No one</em> ever thinks of themselves as one of Them. We’re always one of Us. It’s Them that do the bad things.</p>
</blockquote></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781473225947"><em>The Left Hand of Darkness</em></a> by Ursula K. Le Guin ★ — I enjoyed this a lot once I’d gotten into the world-building terminology, especially the final trek across the ice sheet back to Karhide.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780241486511"><em>Caste</em></a> by by Isabel Wilkerson — After <em>The Warmth of Other Suns</em>, I eagerly picked this up the day it was released. Wilkerson rigourously frames the subject of racial inequality and injustice in the United States in terms of a caste system.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780099422747"><em>Hateship, Friendship, Courtship, Loveship, Marriage</em></a> by Alice Munro ★ — I love how Munro will settle you into this familiar place, probably in rural Canada, probably with some midlife characters, then unsettle you in just a few pages.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780753823248"><em>Around the World in 80 Days</em></a> by Michael Palin — Some of Palin’s TV programmes have been back on the BBC and reminded me how much I enjoy his work.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781911613800"><em>Now You’re Gonna Believe Us</em></a> by Andrew Robertson — I expect there will be a lot of books written about Jürgen Klopp’s Liverpool FC and I expect I will want to read a lot of them.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780753823972"><em>New Europe</em></a> by Michael Palin — A tour of Eastern Europe in the 00s, in flux between Soviet influence or rule and EU expansion.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780753826942"><em>Tequila Oil</em></a> by Hugh Thomson — In 1979, aged 18, Thomson picks up a used Oldsmobile 98 to drive across the US border down through Mexico in a woozy trip working odd jobs, drinking and visiting Mayan sites on a quest to sell the car in Belize to pay his way home.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780241491515"><em>A Promised Land</em></a> by Barack Obama — Nothing unexpected but all enjoyable to read. Most interesting to me were the insights into how multilateral events like the Copenhagen Summit in 2009 actually work and the process leading to the Navy SEAL kill-or-capture operation for Osama bin Laden. I look forward to the next volume.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780241262313"><em>The Moth and the Mountain</em></a> by Ed Caesar ★ — An adventure. After the early attempts to conquer Everest by George Mallory<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> and others, in 1934 Bradfordian WWI veteran Maurice Wilson made an eccentric solo attempt to stand first on Earth’s highest point by flying a second-hand Gipsy Moth plane from London to Tibet and crash landing on the slopes of the mountain. He had an imperial bureaucracy set on stopping him, no climbing experience beyond a hike up Coniston Old Man and only a few hours of flying lessons.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9781529124194"><em>Terra Incognita</em></a> by Ian Goldin and Robert Mugs — Analysis of the major trends and problems we face in human progress and what they might mean for us all in the remainder of the century. Well-illustrated with ‘100 maps to survive the next 100 years’.</p></li>
<li><p><a href="https://uk.bookshop.org/a/5340/9780691163529"><em>In Pursuit of the Traveling Salesman</em></a> by William J. Cook — An introduction to the <a href="https://en.wikipedia.org/wiki/Travelling_salesman_problem">travelling salesman problem</a> (TSP). Cook is a leading researcher on the TSP and this is an excellent guide through the history of the problem and approaches to solving it. The TSP can seem like an obscure applied mathematics problem at first glance but, as this book makes clear, the understanding gained from the problem and heuristics for solving it have been broadly useful in combinatorial optimization and theoretical computer science.</p></li>
</ol>
<!-- Affiliate Links -->




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I had no idea that Francis Crick had been involved in the latter project.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Jehovah’s Witnesses are in part a print publishing organisation, distributing books, magazines and tracts for evangelism but also to be studied by members.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>I don’t have a consistent answer myself.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>The word <em>statistics</em> originally meaning study of data about the state.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>As told wonderfully by Wade Davis in <em>Into the Silence</em>.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right"><em>Think deeply of simple things.</em></div>
  </div>
</footer>



</body></html>